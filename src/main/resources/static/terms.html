<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>약관 동의</title>
    <script>
        function agreeToTerms() {
            fetch('/auth/agree', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                credentials: 'include'  // 세션 유지
            })
                .then(response => response.json()) // ✅ JSON으로 변환
                .then(data => {
                    if (data.redirectUrl) {
                        window.location.href = data.redirectUrl; // ✅ 성공 시 리디렉션
                    } else {
                        alert("약관 동의 실패: " + data.message);
                    }
                })
                .catch(error => alert("약관 동의 중 오류 발생: " + error));
        }
    </script>
</head>
<body>
<h2>서비스 이용 약관</h2>
<p>여기에 약관 내용을 작성하세요.</p>

<!-- ✅ 버튼 추가 -->
<button onclick="agreeToTerms()">동의</button>
</body>
</html>
